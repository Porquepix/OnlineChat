<!--
The user manager of the chat.

This componenent handles functionalities about the user of the chat such as the connected users list.
-->
<dom-module id="chat-users">
    <template>
        <style>
            * { 
                box-sizing: border-box; 
            }

            .writting-users {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 30px;
                padding-left: 10px;
                background-color: #673AB7;
                color: rgba(255, 255, 255, 0.87);
                line-height: 30px;
                box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.27);
            }

            label.online-users_button {
                position: absolute;
                top: 5px;
                right: 25px;
                width: 50px;
                height: 50px;
                padding: 12px;
                cursor: pointer;
                background: #8bc34a; 
                border: none; 
                border-radius: 50%;
                font-size: 1.1em;
                color: rgba(255, 255, 255, 0.87);
                box-shadow: 1px 3px 3px rgba(0, 0, 0, 0.37);
                z-index: 2;
            }

            label.online-users_button:hover, #list_toggle:checked ~ .online-users_button {
                background: #9CCC65; 
            }

            input#list_toggle {
                display: none;
            }

            .online-users_container {
                position: absolute;
                top: 30px;
                right: 50px;
                width: 0%;
                height: 0%;
                opacity: 0;
                border-radius: 50%;
                will-change: top, right, width, height, opacity, border-radius;
                transition: width 0.2s ease-out, height 0.2s ease-out, top 0.2s ease-out, right 0.2s ease-out, opacity 0.2s ease-out, border-radius 0.2s ease-out;
                padding: 50px;
                overflow-y: auto;
                background-color: #8bc34a; 
                color: rgba(255, 255, 255, 0.87);
                z-index: 1;
            }

            #list_toggle:checked ~ .online-users_container {
                width: 100%;
                height: 100%; 
                top: 0;
                right: 0;
                opacity: 1;
                border-radius: 0;
            }

            .list-toggle__close-btn, #list_toggle:checked ~ .online-users_button .list-toggle__open-btn {
                display: none;
            }

            .list-toggle__open-btn, #list_toggle:checked ~ .online-users_button .list-toggle__close-btn {
                display: block;
            }

            .users-list {
                font-size: 1.2em; 
                list-style: none;
            }

            .users-list li {
                padding: 10px;
                border-bottom: solid 1px #FFF; 
            }
        </style>
        <div class="writting-users">
         
        </div>

        <input type="checkbox" id="list_toggle"></input>
        <label for="list_toggle" class="online-users_button"> 
            <img src="/images/group.svg" width="25" height="25" class="list-toggle__open-btn">
            <img src="/images/close.svg" width="25" height="25" class="list-toggle__close-btn">
        </label>

        <div class="online-users_container">
            <h1>Connected users</h1>
            <ul class="users-list">
                <dom-repeat items="{{ _users }}" sort="_sortUid">
                    <template>
                        <li><b>{{ item }}</li>
                    </template>
                </dom-repeat>
            </ul>
        </div>
    </template>
    <script src="/javascripts/chat-users.js"></script>
</dom-module>